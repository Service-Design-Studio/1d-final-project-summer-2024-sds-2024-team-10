<html>
<head>
    <title>அம்சம்1</title>
    <%= stylesheet_link_tag 'checklist', media: 'all', crossorigin: 'anonymous' %>
    <%= javascript_include_tag 'controllers/checklist', crossorigin: 'anonymous' %>
    <style>
        /* மாடல் ஷெல்ஸ்கள் */
        .modal {
            display: none; /* இயல்பாக மறைக்கப்பட்டது */
            position: fixed;
            z-index: 9999; /* மேல் பகுதியில் உறுதிப்படுத்த */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5); /* ஒளி புகாத பின்புலம் */
        }

        .modal-content {
            margin: 10% auto;
            background-color: transparent; /* தெளிவான பின்புலம் */
            border: none; /* எல்லை இல்லை */
            width: 80%;
            max-width: 600px;
            padding: 20px;
            position: relative;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* விருப்பம்வரை: மேலே பார்க்க உதவ மழை சேவை */
        }

        .close {
            position: absolute;
            top: 15px;
            right: 15px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .sample-image {
            max-width: 100%;
            height: auto;
            cursor: pointer;
        }

        /* விருப்பம்வரை: மாடல் பட வடிவத்தை சரிசெய்யவும் */
        .modal-image {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <%= link_to '<', root_path, class: 'button', id: 'backButton' %>

        <!-- முன்னேற்றம் பட்டை -->
        <progress id="file" value="14" max="100"> 32% </progress><br><br>

        <h1>ஆவணங்கள் பட்டியல்</h1>
        <p>ஆவணம் தயார் என்றால் பெட்டியை சரிபார்க்கவும்.</p>
        <%= form_with url: checklist_path, method: :post, id: 'checklistForm' do %>
            <% checklist_items = { passport: 'கடவுச்சீட்டு', employment: 'வேலை சான்று', address: 'வசிப்பிடம் சான்று', tax: 'வரி குடியுரிமை சான்று', mobile: 'மொபைல் சொந்தம் சான்று' } %>
            <% checklist_items.each do |key, label| %>
                <div class="item">
                    <div class="tooltip">
                        <!-- மாடல் கைலாக் கையாளும் சான்றுடன் படக் குறி -->
                        <%= image_tag("info.png", alt: label, class: 'sample-image', data: { target: "modal_#{key}" }) %>
                        <span class="tooltiptext">மாதிரியை பார்க்க கிளிக் செய்யவும்</span>
                    </div>
                    <%= label %>
                    <%= check_box_tag "checklist[#{key}]", '1', session[key.to_s] == '1', id: key, autocomplete: 'off' %>
                    <label for="<%= key %>"></label>
                </div>

                <!-- ஒவ்வொரு படத்திற்கும் மாடல் -->
                <div id="modal_<%= key %>" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <%= image_tag("#{key}.jpg", alt: label, class: 'modal-image') %>
                    </div>
                </div>
            <% end %>
            <%= submit_tag 'அடுத்த', class: 'button', id: 'nextButton' %>
        <% end %>
    </div>
</body>
</html>
