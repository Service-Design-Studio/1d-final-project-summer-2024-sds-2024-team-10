<html>
<head>
    <title>Feature1</title>
    <%= stylesheet_link_tag 'checklist', media: 'all', crossorigin: 'anonymous' %>
    <%= javascript_include_tag 'controllers/checklist', crossorigin: 'anonymous' %>
    <style>
        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 9999; /* Ensure it's on top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5); /* Black background with opacity */
        }

        .modal-content {
            margin: 10% auto;
            background-color: transparent; /* Transparent background */
            border: none; /* No border */
            width: 80%;
            max-width: 600px;
            padding: 20px;
            position: relative;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2); /* Optional: Add shadow for better visibility */
        }

        .close {
            position: absolute;
            top: 15px;
            right: 15px;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .sample-image {
            max-width: 100%;
            height: auto;
            cursor: pointer;
        }

        /* Optional: Adjust modal image style */
        .modal-image {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <%= link_to '<', root_path, class: 'button', id: 'backButton' %>

        <!-- Progress bar -->
        <progress id="file" value="14" max="100"> 32% </progress><br><br>

        <h1>Document Checklist</h1>
        <p>Check the box when the document is ready.</p>
        <%= form_with url: checklist_path, method: :post, id: 'checklistForm' do %>
            <% checklist_items = { passport: 'Passport', employment: 'Proof of Employment', address: 'Proof of Residential Address', tax: 'Proof of Tax Residency', mobile: 'Proof of Mobile Ownership' } %>
            <% checklist_items.each do |key, label| %>
                <div class="item">
                    <div class="tooltip">
                        <!-- Image tag with data attributes for modal handling -->
                        <%= image_tag("info.png", alt: label, class: 'sample-image', data: { target: "modal_#{key}" }) %>
                        <span class="tooltiptext">Click to See Sample</span>
                    </div>
                    <%= label %>
                    <%= check_box_tag "checklist[#{key}]", '1', session[key.to_s] == '1', id: key, autocomplete: 'off' %>
                    <label for="<%= key %>"></label>
                </div>

                <!-- Modal for each image -->
                <div id="modal_<%= key %>" class="modal">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <%= image_tag("#{key}.jpg", alt: label, class: 'modal-image') %>
                    </div>
                </div>
            <% end %>
            <%= submit_tag 'Next', class: 'button', id: 'nextButton' %>
        <% end %>
    </div>

 
</body>
</html>